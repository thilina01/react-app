{"version":3,"sources":["../../react-app/src/hoc/Layout/Layout.js","../../react-app/src/components/Lease/Lease.js","../../react-app/src/axios-leases.js","../../react-app/src/components/UI/Backdrop/Backdrop.js","../../react-app/src/components/UI/Modal/Modal.js","../../react-app/src/hoc/withErrorHandler/withErrorHandler.js","../../react-app/src/store/actions/lease.js","../../react-app/src/store/actions/actionTypes.js","../../react-app/src/components/UI/Spinner/Spinner.js","../../react-app/src/containers/Leases/Leases.js","../../react-app/src/containers/Lease-details/LeaseDetails.js","../../react-app/src/App.js","../../react-app/src/store/utility.js","../../react-app/src/store/reducers/lease.js","../../react-app/src/index.js"],"names":["Layout","react_default","a","createElement","className","this","props","children","Component","lease","onClick","clicked","id","tenant","instance","axios","create","baseURL","backdrop","show","Modal","nextProps","nextState","Backdrop_Backdrop","modalClosed","style","transform","opacity","withErrorHandler","WrappedComponent","_Component","_temp","_getPrototypeOf2","_this","Object","classCallCheck","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","error","errorConfirmedHandler","setState","inherits","createClass","key","value","_this2","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","eject","UI_Modal_Modal","message","fetchLeaseStart","type","fetchLeaseSuccess","fetchLeaseFail","spinner","Leases","leaseSelectedHandler","history","push","onFetchLeases","leases","Spinner_Spinner","loading","map","Lease_Lease","connect","dispatch","get","then","data","catch","err","LeaseDetails","backHandler","onFetchLease","match","params","date","days","result","Date","setDate","getDate","startDate","start_date","endDate","end_date","startDay","getDay","gap","indexOf","payment_day","frequency","paymentDuration","nextDate","addDays","arr","from","to","amount","rent","endGap","countableDays","rows","rowData","getTime","toLocaleDateString","parseFloat","Math","round","toFixed","actions","App","hoc_Layout_Layout","react_router","path","component","exact","updateObject","oldObject","updatedProperties","objectSpread","initialState","purchased","reducer","undefined","action","fetchLeasesStart","fetchLeasesSuccess","fetchLeasesFail","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","leaseReducer","store","createStore","applyMiddleware","thunk","app","es","react_router_dom","src_App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d60e6db1.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport './Layout.css';\n\nclass Layout extends Component {\n  render() {\n    return (\n      <main className=\"Content\">\n        {this.props.children}\n      </main>\n    )\n  }\n}\n\nexport default Layout;","import React from 'react';\n\nimport './Lease.css';\n\nconst lease = (props) => {\n\n    return (\n        <div className=\"Lease\" onClick={props.clicked}>\n            <p>ID: {props.id}</p>\n            <p>Tenant: <strong>{props.tenant}</strong></p>\n        </div>\n    );\n};\n\nexport default lease;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://hiring-task-api.herokuapp.com/v1/leases'\n});\n\nexport default instance;","import React from 'react';\n\nimport './Backdrop.css';\n\nconst backdrop = (props) => (\n    props.show ? <div className=\"Backdrop\" onClick={props.clicked}></div> : null\n);\n\nexport default backdrop;","import React, { Component } from 'react';\n\nimport './Modal.css';\nimport Backdrop from '../Backdrop/Backdrop';\n\nclass Modal extends Component {\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.show !== this.props.show || nextProps.children !== this.props.children;\n  }\n\n  render() {\n    return (\n      <div>\n        <Backdrop show={this.props.show} clicked={this.props.modalClosed} />\n        <div\n          className=\"Modal\"\n          style={{\n            transform: this.props.show ? 'translateY(0)' : 'translateY(-100vh)',\n            opacity: this.props.show ? '1' : '0'\n          }}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Modal;","import React, { Component } from 'react';\n\nimport Modal from '../../components/UI/Modal/Modal';\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  return class extends Component {\n    state = {\n      error: null\n    };\n\n    componentWillMount() {\n      this.reqInterceptor = axios.interceptors.request.use(req => {\n        this.setState({ error: null });\n        return req;\n      });\n      this.resInterceptor = axios.interceptors.response.use(res => res, error => {\n        this.setState({ error: error });\n      });\n    }\n\n    componentWillUnmount() {\n      axios.interceptors.request.eject(this.reqInterceptor);\n      axios.interceptors.response.eject(this.resInterceptor);\n    }\n\n    errorConfirmedHandler = () => {\n      this.setState({ error: null });\n    };\n\n    render() {\n      return (\n        <div>\n          <Modal\n            show={this.state.error}\n            modalClosed={this.errorConfirmedHandler}>\n            {this.state.error ? this.state.error.message : null}\n          </Modal>\n          <WrappedComponent {...this.props} />\n        </div>\n      );\n    }\n  }\n};\n\nexport default withErrorHandler;","import * as actionTypes from './actionTypes';\nimport axios from '../../axios-leases';\n\nexport const fetchLeasesSuccess = (leases) => {\n  return {\n    type: actionTypes.FETCH_LEASES_SUCCESS,\n    leases: leases\n  };\n};\n\nexport const fetchLeasesFail = (error) => {\n  return {\n    type: actionTypes.FETCH_LEASES_FAIL,\n    error: error\n  };\n};\n\nexport const fetchLeasesStart = () => {\n  return {\n    type: actionTypes.FETCH_LEASES_START\n  };\n};\n\nexport const fetchLeases = () => {\n  return dispatch => {\n    dispatch(fetchLeasesStart());\n    axios.get('')\n      .then(res => {\n        dispatch(fetchLeasesSuccess(res.data));\n      })\n      .catch(err => {\n        dispatch(fetchLeasesFail(err));\n      });\n  };\n};\n\nexport const fetchLease = (id) => {\n  return dispatch => {\n    dispatch(fetchLeaseStart());\n    axios.get(id)\n      .then(res => {\n        dispatch(fetchLeaseSuccess(res.data));\n      })\n      .catch(err => {\n        dispatch(fetchLeaseFail(err));\n      });\n  };\n};\n\nexport const fetchLeaseStart = () => {\n  return {\n    type: actionTypes.FETCH_LEASE_START\n  };\n};\n\nexport const fetchLeaseSuccess = (lease) => {\n  return {\n    type: actionTypes.FETCH_LEASE_SUCCESS,\n    lease: lease\n  };\n};\n\nexport const fetchLeaseFail = (error) => {\n  return {\n    type: actionTypes.FETCH_LEASE_FAIL,\n    error: error\n  };\n};","export const FETCH_LEASES_START = 'FETCH_LEASES_START';\nexport const FETCH_LEASES_SUCCESS = 'FETCH_LEASES_SUCCESS';\nexport const FETCH_LEASES_FAIL = 'FETCH_LEASES_FAIL';\n\nexport const FETCH_LEASE_START = 'FETCH_LEASE_START';\nexport const FETCH_LEASE_SUCCESS = 'FETCH_LEASE_SUCCESS';\nexport const FETCH_LEASE_FAIL = 'FETCH_LEASE_FAIL';","import React from 'react';\n\nimport './Spinner.css';\n\nconst spinner = () => (\n  <div className=\"Loader\">Loading...</div>\n);\n\nexport default spinner;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport Lease from '../../components/Lease/Lease';\nimport axios from '../../axios-leases';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\n\nclass Leases extends Component {\n  componentDidMount() {\n    this.props.onFetchLeases();\n  }\n\n  leaseSelectedHandler = (id) => {\n    this.props.history.push('/leases/' + id);\n  };\n\n  render() {\n    let leases = <Spinner />;\n    if (!this.props.loading) {\n      leases = this.props.leases.map(lease => (\n        <Lease\n          key={lease.id}\n          id={lease.id}\n          tenant={lease.tenant}\n          clicked={() => this.leaseSelectedHandler(lease.id)} />\n      ))\n    }\n    return (\n      <div>\n        {leases}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    leases: state.lease.leases,\n    loading: state.lease.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchLeases: () => dispatch(actions.fetchLeases())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Leases, axios));","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport axios from '../../axios-leases';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport \"../../components/Lease/Lease.css\";\n\nclass LeaseDetails extends Component {\n    componentDidMount() {\n        this.props.onFetchLease(this.props.match.params.id);\n    }\n\n    addDays(date, days) {\n        const result = new Date(date);\n        result.setDate(result.getDate() + days);\n        return result;\n    }\n\n    backHandler = () => {\n        this.props.history.push( '/' );\n    };\n\n    render() {\n        let lease = <Spinner/>;\n        if (!this.props.loading && this.props.lease.id) {\n\n            const startDate = new Date(this.props.lease.start_date);\n            const endDate = new Date(this.props.lease.end_date);\n            const startDay = startDate.getDay();\n            const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n\n            const paymentDay = days.indexOf(this.props.lease.payment_day);\n\n            let gap = paymentDay - startDay;\n\n            const frequency = this.props.lease.frequency;\n            const paymentDuration = frequency === 'weekly' ? 7 : frequency === 'fortnightly' ? 14 : 28;\n\n            gap = gap < 0 ? paymentDuration + gap : gap;\n\n            let nextDate = this.addDays(startDate, gap);\n\n            const arr = [];\n\n            if (gap > 0) {\n                arr.push({\n                    from: startDate,\n                    to: nextDate,\n                    days: gap,\n                    amount: (this.props.lease.rent / paymentDuration) * gap\n\n                });\n                nextDate = this.addDays(nextDate, paymentDuration);\n            }\n\n            while (nextDate <= endDate) {\n\n                arr.push({\n                    from: this.addDays(nextDate, -(paymentDuration - 1)),\n                    to: nextDate,\n                    days: paymentDuration,\n                    amount: this.props.lease.rent\n\n                });\n                nextDate = this.addDays(nextDate, paymentDuration);\n\n            }\n\n            const endGap = (nextDate - endDate) / (1000 * 60 * 60 * 24);\n\n\n            if (endGap < paymentDuration) {\n                const countableDays = paymentDuration - endGap;\n                arr.push({\n                    from: this.addDays(endDate, -countableDays + 1),\n                    to: endDate,\n                    days: countableDays,\n                    amount: (this.props.lease.rent / paymentDuration) * countableDays\n\n                });\n            }\n\n            let rows = arr.map(rowData => (\n                <tr key={rowData.from.getTime()}>\n                    <td>{rowData.from.toLocaleDateString()}</td>\n                    <td>{rowData.to.toLocaleDateString()}</td>\n                    <td>{rowData.days}</td>\n                    <td>{parseFloat(Math.round(rowData.amount * 100) / 100).toFixed(2)}</td>\n                </tr>\n            ));\n\n            lease =\n                <div className=\"Lease\">\n                    <button className=\"LeaseButton\" onClick={this.backHandler}> Back </button>\n                    <p>ID: {this.props.lease.id}</p>\n                    <p>Start Date: <strong>{this.props.lease.start_date}</strong></p>\n                    <p>End Date: <strong>{this.props.lease.end_date}</strong></p>\n                    <p>Rent: <strong>{this.props.lease.rent}</strong></p>\n                    <p>Frequency: <strong>{this.props.lease.frequency}</strong></p>\n                    <p>Payment Day: <strong>{this.props.lease.payment_day}</strong></p>\n                    <br/>\n                    <table className=\"LeaseTable\">\n                        <thead>\n                        <tr>\n                            <th>From</th>\n                            <th>To</th>\n                            <th>Days</th>\n                            <th>Amount</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {rows}\n                        </tbody>\n                    </table>\n                    <br/>\n\n                </div>\n        }\n        return (\n            <div>\n                {lease}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        lease: state.lease.data,\n        loading: state.lease.loading\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onFetchLease: (id) => dispatch(actions.fetchLease(id))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(LeaseDetails, axios));","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Layout from './hoc/Layout/Layout';\nimport Leases from './containers/Leases/Leases';\nimport LeaseDetails from \"./containers/Lease-details/LeaseDetails\";\n\nclass App extends Component {\n  render () {\n    return (\n      <div>\n        <Layout>\n          <Switch>\n            <Route path=\"/leases/:id\" component={LeaseDetails} />\n            <Route path=\"/leases\" component={Leases} />\n            <Route path=\"/\" exact component={Leases} />\n          </Switch>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const updateObject = (oldObject, updatedProperties) => {\n    return {\n        ...oldObject,\n        ...updatedProperties\n    };\n};","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../utility';\n\nconst initialState = {\n    leases: [],\n    data: {},\n    loading: false,\n    purchased: false\n};\n\nconst fetchLeasesStart = ( state, action ) => {\n    return updateObject( state, { loading: true } );\n};\n\nconst fetchLeasesSuccess = ( state, action ) => {\n    return updateObject( state, {\n        leases: action.leases,\n        loading: false\n    } );\n};\n\nconst fetchLeasesFail = ( state, action ) => {\n    return updateObject( state, { loading: false } );\n};\n\nconst fetchLeaseStart = ( state, action ) => {\n    return updateObject( state, { loading: true } );\n};\n\nconst fetchLeaseSuccess = ( state, action ) => {\n    return updateObject( state, {\n        data: action.lease,\n        loading: false\n    } );\n};\n\nconst fetchLeaseFail = ( state, action ) => {\n    return updateObject( state, { loading: false } );\n};\n\nconst reducer = ( state = initialState, action ) => {\n    switch ( action.type ) {\n        case actionTypes.FETCH_LEASES_START: return fetchLeasesStart( state, action );\n        case actionTypes.FETCH_LEASES_SUCCESS: return fetchLeasesSuccess( state, action );\n        case actionTypes.FETCH_LEASES_FAIL: return fetchLeasesFail( state, action );\n        case actionTypes.FETCH_LEASE_START: return fetchLeaseStart( state, action );\n        case actionTypes.FETCH_LEASE_SUCCESS: return fetchLeaseSuccess( state, action );\n        case actionTypes.FETCH_LEASE_FAIL: return fetchLeaseFail( state, action );\n        default: return state;\n    }\n};\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport './index.css';\nimport App from './App';\nimport leaseReducer from './store/reducers/lease';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n    lease: leaseReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(thunk)\n));\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n);\n\nReactDOM.render( app, document.getElementById( 'root' ) );\n"],"sourceRoot":""}